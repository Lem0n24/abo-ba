(this["webpackJsonpabo-ba"]=this["webpackJsonpabo-ba"]||[]).push([[0],{169:function(e,t,n){},170:function(e,t,n){},176:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(62),c=n.n(o),r=n(25),s=n(119),i=n.n(s),l=(n(142),n(8)),d=function(){return Object(a.useEffect)((function(){new i.a(".pwa-install-prompt__container",{condition:null,expires:180,show_after:90})}),[]),Object(l.jsxs)("div",{className:"pwa-install-prompt__container",children:[Object(l.jsx)("button",{className:"pwa-install-prompt__overlay",type:"button",children:"Close"}),Object(l.jsxs)("div",{className:"pwa-install-prompt",children:[Object(l.jsx)("div",{className:"pwa-install-prompt__icon__container",children:Object(l.jsx)("img",{className:"pwa-install-prompt__icon",src:"apple-touch-icon.png",alt:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043d\u0430 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0439 \u044d\u043a\u0440\u0430\u043d"})}),Object(l.jsxs)("div",{className:"pwa-install-prompt__content",children:[Object(l.jsx)("h3",{className:"pwa-install-prompt__title",children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430"}),Object(l.jsx)("p",{className:"pwa-install-prompt__text",children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0439 \u044d\u043a\u0440\u0430\u043d \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u0438 \u0443\u0434\u043e\u0431\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0441\u0432\u043e\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u043c"}),Object(l.jsxs)("p",{className:"pwa-install-prompt__guide",children:[Object(l.jsx)("span",{children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435"}),Object(l.jsxs)("svg",{className:"pwa-install-prompt__guide__icon",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("title",{children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"}),Object(l.jsx)("path",{fill:"#007AFF",d:"M48.883,22.992L61.146,10.677L61.146,78.282C61.146,80.005 62.285,81.149 64,81.149C65.715,81.149 66.854,80.005 66.854,78.282L66.854,10.677L79.117,22.992C79.693,23.57 80.256,23.853 81.114,23.853C81.971,23.853 82.534,23.57 83.11,22.992C84.25,21.848 84.25,20.125 83.11,18.981L65.997,1.794C65.715,1.511 65.421,1.215 65.139,1.215C64.563,0.932 63.718,0.932 62.861,1.215C62.579,1.498 62.285,1.498 62.003,1.794L44.89,18.981C43.75,20.125 43.75,21.848 44.89,22.992C46.029,24.149 47.744,24.149 48.883,22.992ZM103.936,35.32L81.114,35.32L81.114,41.053L103.936,41.053L103.936,121.27L24.064,121.27L24.064,41.053L46.886,41.053L46.886,35.32L24.064,35.32C20.928,35.32 18.355,37.904 18.355,41.053L18.355,121.27C18.355,124.419 20.928,127.003 24.064,127.003L103.936,127.003C107.072,127.003 109.645,124.419 109.645,121.27L109.645,41.053C109.645,37.891 107.072,35.32 103.936,35.32Z"})]})]}),Object(l.jsx)("p",{className:"pwa-install-prompt__guide",children:'\u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u044d\u043a\u0440\u0430\u043d "\u0414\u043e\u043c\u043e\u0439"'})]})]})]})},u=n(26),p=n.n(u),j=(n(145),n(39)),m=n(102),b=n(72),h=n.n(b),v=n(84),f=n(55),g=n(85),O=n.n(g),x=n(132),w=["9:00, 10:35","10:45, 12:20","13:00, 14:35","14:45, 16:20","16:30, 18:05","18:15, 19:50"],_=p.a.weekdays(),N=function(e){var t,n=e.navigator,o=e.params.id,c=Object(a.useState)(null),r=Object(f.a)(c,2),s=r[0],i=r[1],d=Object(a.useState)(p()()),u=Object(f.a)(d,2),m=u[0],b=u[1],g=Object(a.useState)(!0),N=Object(f.a)(g,2),k=N[0],y=N[1],S=Object(a.useMemo)((function(){var e=m.week();return{weekNumber:e,weekIsOdd:e%2===1}}),[m]),C=function(){var e=E("groupSelect");n.replacePage(e)},L=function(){var e=Object(v.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,O.a.get("https://awesome-node-project.herokuapp.com/groupInfo/".concat(o));case 4:t=e.sent,n=t.data,i(n),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),localStorage.removeItem("savedGroup"),x.a.error({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),setTimeout((function(){C()}),1e3);case 14:y(!1);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){setTimeout((function(){L()}),1e3)}),[]);return Object(l.jsx)(j.Page,{modifier:"home",renderToolbar:function(){var e;return Object(l.jsx)(H,{onBack:C,title:null!==(e=null===s||void 0===s?void 0:s.name)&&void 0!==e?e:"\u0413\u0440\u0443\u043f\u043f\u0430",weekIsOdd:S.weekIsOdd,setSelectedDay:b,selectedDay:m})},children:k||!s?Object(l.jsx)("div",{className:"page-home__loader",children:Object(l.jsx)(T,{})}):Object(l.jsxs)("div",{className:"page-home",children:[Object(l.jsx)("div",{className:"page-home__title",children:"".concat(_[m.day()]," / ").concat(m.format("DD.MM"))}),Object(l.jsx)("div",{className:"page-home__lessons",children:null===(t=s.lessons[m.day()-1])||void 0===t?void 0:t.map((function(e){return function(e){if(e.odd)return Object(l.jsxs)("div",{className:"page-home__lessons_item",children:[Object(l.jsxs)("div",{className:"lesson-time",children:[w[e.num-1].split(",")[0],Object(l.jsx)("br",{}),w[e.num-1].split(",")[1]]}),Object(l.jsxs)("div",{className:"lesson-name",children:[Object(l.jsx)("div",{className:"name",children:S.weekIsOdd?e.odd[0]:e.even[0]}),Object(l.jsx)("div",{className:"audit",children:S.weekIsOdd?e.odd[1]:e.even[1]})]})]})}(e)}))})]})})},k=n(197),y=n.p+"static/media/logowthname.f7ce1672.png",S=k.a.Option,C=function(e){var t=e.navigator,n=Object(a.useState)(null),o=Object(f.a)(n,2),c=o[0],r=o[1],s=Object(a.useState)(null),i=Object(f.a)(s,2),d=i[0],u=i[1],p=Object(a.useState)(!0),m=Object(f.a)(p,2),b=m[0],g=m[1],w=function(){var e=Object(v.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,O.a.get("https://awesome-node-project.herokuapp.com/getAllGroups");case 4:t=e.sent,n=t.data,r(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),localStorage.removeItem("savedGroup"),x.a.error({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f"});case 13:g(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("savedGroup"));if(e){var n=E("home",{id:e.id});t.replacePage(n)}else w()}),[]),Object(l.jsx)(j.Page,{modifier:"group-select",renderFixed:function(){return c?Object(l.jsx)("div",{className:"page-group-select__upload-container",children:Object(l.jsx)("div",{className:"page-group-select__upload-container_btn",children:Object(l.jsx)(j.Button,{modifier:"button-main-node",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})})}):null},children:Object(l.jsxs)("div",{className:"page-group-select",children:[Object(l.jsx)("div",{className:"page-group-select__logo_container",children:Object(l.jsx)("img",{src:y,className:"page-group-select__logo"})}),b||!c?Object(l.jsx)("div",{className:"page-group-select__loader",children:Object(l.jsx)(T,{color:"#fff"})}):Object(l.jsxs)("div",{className:"page-group-select__content",children:[Object(l.jsx)("div",{className:"page-group-select__title",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u0443"}),Object(l.jsx)("div",{className:"page-group-select__select-container",children:Object(l.jsx)(k.a,{showSearch:!0,onSearch:function(e){return console.log(e)},placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",className:"page-group-select__select-container_select",onChange:function(e){u(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:c.map((function(e){return Object(l.jsx)(S,{value:e.id,children:e.name})}))})}),Object(l.jsx)("div",{className:"page-group-select__btn-show",children:Object(l.jsx)(j.Button,{modifier:"button-main-node",onClick:function(){localStorage.setItem("savedGroup",JSON.stringify({id:d}));var e=E("home",{id:d});t.replacePage(e)},disabled:!d,children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})})]})]})})},L=n(199),I={home:{title:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u0439",component:N,key:"home"},groupSelect:{title:"",component:C,key:"groupSelect"}},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(m.a)(Object(m.a)({},I[e]),{},{params:t,uniqKey:Object(L.a)()})},B=(n(166),n(167),n(168),n(169),E("groupSelect")),P=function(){var e=Object(a.useRef)(null);return Object(l.jsx)(j.Navigator,{ref:e,renderPage:function(e,t){return Object(l.jsx)(J,{children:Object(l.jsx)(e.component,{navigator:t,params:e.params})},e.uniqKey)},initialRoute:B,animation:"slide-ios"})},W=n(198),A=n(192),D=Object(A.a)((function(){return{root:{position:"relative",display:"flex"},bottom:{color:"green",opacity:.3},top:{color:"green",opacity:.9,animationDuration:"450ms",position:"absolute",left:0},circle:{strokeLinecap:"round"}}})),T=function(e){var t=e.size,n=void 0===t?50:t,a=e.color,o=void 0===a?"#26CA42":a,c=D();return Object(l.jsxs)("div",{className:c.root,children:[Object(l.jsx)(W.a,{variant:"determinate",className:c.bottom,size:n,thickness:4,value:100}),Object(l.jsx)(W.a,{variant:"indeterminate",disableShrink:!0,className:c.top,style:{color:o},classes:{circle:c.circle},size:n,thickness:4})]})},G=n(34),M=n(47),U=n(43),F=n(42),J=(n(170),function(e){Object(U.a)(n,e);var t=Object(F.a)(n);function n(e){var a;return Object(G.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(M.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t),this.setState({hasError:!0})}},{key:"render",value:function(){var e=this.props.children;if(this.state.hasError){var t=document.getElementsByClassName("navigation-menu")[0];return t&&t.remove(),Object(l.jsxs)("div",{className:"error-boundary",children:[Object(l.jsx)("span",{className:"error-boundary__icon",role:"img","aria-label":"Something wrong!",children:"\ud83d\ude31"}),Object(l.jsx)("h3",{className:"error-boundary__title",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!"}),Object(l.jsx)("h4",{className:"error-boundary__subtitle",children:"\u043d\u043e \u043c\u044b \u0443\u0436\u0435 \u043d\u0430\u0434 \u044d\u0442\u0438\u043c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u043c"})]})}return e}}]),n}(a.Component)),R=(n(129),n(171),window.innerHeight,window.innerHeight,n(28)),z=n(196),K=n(127),q=n.n(K),H=function(e){var t=e.onBack,n=e.title,a=e.weekIsOdd,o=(e.selectedDay,e.setSelectedDay);return Object(l.jsx)(j.Toolbar,{className:"toolbar-container",children:Object(l.jsxs)("div",{className:"toolbar-container__title",children:[Object(l.jsxs)(j.Button,{onClick:function(){localStorage.removeItem("savedGroup"),t()},modifier:"button-main-node__groupSelect",children:[Object(l.jsx)("div",{children:n}),Object(l.jsx)("div",{className:"toolbar-container__title_week",children:a?"\u043d\u0435\u0447\u0435\u0442\u043d\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f":"\u0447\u0435\u0442\u043d\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f"})]}),Object(l.jsx)("div",{className:"toolbar-container__calendar",children:Object(l.jsx)(R.a,{locale:q.a,children:Object(l.jsx)(z.a,{onChange:function(e,t){o(p()(t))},allowClear:!1})})})]})})},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e,t){navigator.serviceWorker.addEventListener("message",(function(e){if(e.data)switch(e.data){case"reload-window":window.location.reload()}})),navigator.serviceWorker.register(e).then((function(e){setInterval((function(){e.update().then((function(e){return console.info("FORCE UPDATE - resolve")}))}),t.timeoutUpdate),e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(c.a.notification.confirm("\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043d\u043e\u0432\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f.",{title:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",buttonLabels:["\u041e\u0442\u043c\u0435\u043d\u0430","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"]}).then((function(e){1===e&&n.postMessage({type:"SKIP_WAITING"})})),console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}p.a.locale("ru");var Q=document.getElementById("root");c.a.disableAutoStyling(),c.a.ready((function(){Object(r.render)(Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(P,{}),Object(l.jsx)(d,{})]}),Q),function(e){var t=document.getElementById("root-loader");t&&(t.classList.add("loader-fade-effect"),setTimeout((function(){t.remove()}),500))}()})),function(e){if("serviceWorker"in navigator){if(new URL("/abo-ba",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/abo-ba","/service-worker.js");Z?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):$(t,e)}))}}({timeoutUpdate:1e4})}},[[176,1,2]]]);
//# sourceMappingURL=main.3c9c6a97.chunk.js.map